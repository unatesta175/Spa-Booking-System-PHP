# ğŸŒ¸ Kapas Beauty Spa - Complete Booking & E-Commerce System

<div align="center">

![Kapas Beauty Spa](images/kapas-new-logo.png)

**A Full-Featured Spa Management & E-Commerce Platform**

[![PHP](https://img.shields.io/badge/PHP-8.x-777BB4?style=for-the-badge&logo=php&logoColor=white)](https://www.php.net/)
[![MySQL](https://img.shields.io/badge/MySQL-8.0-4479A1?style=for-the-badge&logo=mysql&logoColor=white)](https://www.mysql.com/)
[![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
[![Bootstrap](https://img.shields.io/badge/Bootstrap-5-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white)](https://getbootstrap.com/)
[![jQuery](https://img.shields.io/badge/jQuery-3.6-0769AD?style=for-the-badge&logo=jquery&logoColor=white)](https://jquery.com/)
[![License](https://img.shields.io/badge/License-MIT-green.svg?style=for-the-badge)](LICENSE)

**ğŸš€ Tech Highlights:** Pure PHP (No Frameworks) â€¢ PDO Prepared Statements â€¢ FullCalendar v6 â€¢ ToyyibPay Integration â€¢ RESTful APIs â€¢ Session-Based Auth

[Demo](#-screenshots) â€¢ [Features](#-features) â€¢ [Installation](#-installation) â€¢ [Documentation](#-documentation)

</div>

---

## ğŸ‘¨â€ğŸ’» About This Project

This comprehensive spa booking and e-commerce system was **developed entirely from scratch** as a solo project during my internship at **Picrust** (February 2024 - July 2024).

### ğŸ¯ The Challenge

I challenged myself to build a complete, production-ready web application **using pure PHP without any frameworks** to truly understand web development fundamentals and test my coding abilities.

### ğŸ’ª The Journey

- **Duration:** 4 months of intensive development
- **Solo Developer:** Muhammad Ilyas Bin Amran
- **Technology Choice:** Vanilla PHP (no Laravel, no CodeIgniter, no frameworks)
- **Learning Experience:** Deep dive into PHP fundamentals, security, architecture, and best practices
- **Outcome:** A fully functional, feature-rich system managing real business operations

> *"Building without frameworks taught me how frameworks actually work. Every feature, every security measure, every optimization - I built it myself and understood it completely."* 

---

## âœ¨ Features

### ğŸ‘¥ Customer Portal

- **ğŸ” User Authentication**
  - Secure registration and login system
  - Password encryption
  - Session management
  - Profile management
  
- **ğŸ’† Service Booking System**
  - Real-time availability checking
  - Interactive calendar interface (FullCalendar.js integration)
  - Multiple service categories:
    - Facial treatments
    - Body massage (Urutan Badan)
    - Sauna sessions
    - Foot treatments (Rawatan Kaki)
    - Cupping therapy (Bekam Sunnah)
    - Waxing services
    - Scrub treatments
    - And 6 more specialized services
  - Dynamic time slot management
  - Booking confirmation system

- **ğŸ›’ E-Commerce Features**
  - Product catalog with image galleries
  - Shopping cart functionality
  - Wishlist system
  - Credit packages (top-up system)
  - Gift card purchasing
  - Promotional packages
  - Order tracking
  - Invoice generation

- **ğŸ’³ Payment Integration**
  - ToyyibPay payment gateway
  - Secure transaction handling
  - Credit system for spa services
  - Order history

- **ğŸ“± User Experience**
  - Responsive design (mobile, tablet, desktop)
  - SweetAlert2 notifications
  - Swiper.js image sliders
  - Real-time search functionality
  - Category filtering
  - Quick view product previews

### ğŸ‘¨â€ğŸ’¼ Admin Panel

- **ğŸ“Š Dashboard**
  - Real-time statistics
  - Revenue tracking
  - Booking analytics
  - Customer insights

- **ğŸ“… Booking Management**
  - View all bookings
  - Calendar view
  - Booking status updates
  - Customer booking history
  - Time slot management

- **ğŸ›ï¸ Product Management**
  - CRUD operations for products
  - Image upload (up to 3 images per product)
  - Stock management
  - Price management
  - Product categorization

- **ğŸ’¼ Service Management**
  - Service catalog management
  - Duration settings
  - Pricing configuration
  - Service categorization

- **ğŸ Gift Card & Credit Management**
  - Gift card creation and tracking
  - Credit package management
  - Transaction history

- **ğŸ‘¥ User Management**
  - Customer accounts management
  - Staff accounts management
  - Admin accounts management
  - Role-based access control

- **ğŸ“§ Communication**
  - Customer messaging system
  - Notifications management

- **ğŸ“ˆ Reports & Analytics**
  - Order reports
  - Booking records
  - Revenue reports

### ğŸ‘¨â€âš•ï¸ Staff Panel

- **ğŸ“‹ Booking Overview**
  - Assigned appointments
  - Daily schedule
  - Calendar integration

- **ğŸ‘¤ Client Management**
  - View client details
  - Booking history
  - Client notes

- **ğŸ’° Financial Management**
  - Credit tracking
  - Service pricing
  - Gift card validation

- **ğŸ”§ Profile Management**
  - Personal information
  - Password change
  - Work schedule

---

## ğŸ’» Technologies, Frameworks & Tools

### Backend
- **PHP 8.x** - Server-side logic using both Procedural & OOP paradigms
- **MySQL 8.0** - Relational database management
- **PDO (PHP Data Objects)** - Secure database operations with prepared statements
- **Session-based Authentication** - User authorization and access control
- **RESTful API Endpoints** - Custom AJAX endpoints for dynamic functionality
- **cURL** - HTTP client for API communication

### Frontend
- **HTML5** - Semantic markup and modern web standards
- **CSS3** - Advanced styling with custom properties
  - CSS Variables for dynamic theming
  - Custom animations and transitions
  - Mobile-first responsive design
- **JavaScript (ES6+)** - Modern client-side programming
  - Arrow functions, async/await
  - Template literals
  - Modules and classes
- **Bootstrap 5** - Responsive UI framework for consistent components

### JavaScript Libraries & Plugins
- **jQuery** - Simplified DOM manipulation and AJAX requests
- **FullCalendar v6** - Interactive booking calendar visualization with drag-and-drop
- **SweetAlert2** - Modern, customizable alert and confirmation dialogs
- **Flatpickr** - Advanced date/time picker with Malay localization support
- **Swiper.js** - Touch-enabled, mobile-friendly product image sliders
- **Moment.js** - Date/time manipulation, parsing, and formatting
- **DataTables** - Advanced table features with:
  - Real-time sorting and filtering
  - Pagination
  - Search functionality
  - Export capabilities
- **Font Awesome 6** - Comprehensive icon library (1000+ icons)

### Third-Party Integration
- **ToyyibPay Payment Gateway** - Secure payment processing for Malaysian market
  - Online banking (FPX)
  - Credit/debit card support
  - E-wallet integration
- **cURL** - API communication and HTTP requests

### Development Tools & Environment
- **XAMPP** - Cross-platform development stack
  - Apache Web Server
  - MySQL Database Server
  - PHP Interpreter
  - phpMyAdmin for database management
- **Git** - Version control and collaborative development
- **JSON** - Data serialization for API responses and configuration

### Security Features
- **Environment Variable Management** - Secure credential storage (.env)
- **SQL Injection Prevention** - PDO prepared statements throughout
- **XSS Protection** - `htmlspecialchars()` and input sanitization
- **Session Security** - Secure session handling and regeneration
- **Password Hashing** - Encrypted password storage
- **Input Validation** - Server-side and client-side validation
- **CSRF Protection** - Token-based form security (recommended for future enhancement)

---

## ğŸ—ï¸ Architecture & Design Patterns

### Project Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Client Browser                           â”‚
â”‚  (HTML5 + CSS3 + JavaScript + jQuery + Bootstrap)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP/HTTPS Requests
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Apache Web Server                          â”‚
â”‚              (XAMPP - localhost/production)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PHP Application Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Customer   â”‚  â”‚    Admin     â”‚  â”‚    Staff     â”‚      â”‚
â”‚  â”‚   Interface  â”‚  â”‚    Panel     â”‚  â”‚    Panel     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â–¼                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚         â”‚   Core Components (PDO + Session)  â”‚              â”‚
â”‚         â”‚  â€¢ Database Connection (connect.php)             â”‚
â”‚         â”‚  â€¢ Authentication & Authorization  â”‚              â”‚
â”‚         â”‚  â€¢ Environment Loader (.env)       â”‚              â”‚
â”‚         â”‚  â€¢ Common Functions & Utilities    â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MySQL Database (spa_db)                     â”‚
â”‚  Tables: clients, admins, staff, services, products,        â”‚
â”‚  bookings, orders, cart, wishlist, giftcards, credits       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              External APIs & Services                        â”‚
â”‚  â€¢ ToyyibPay Payment Gateway (cURL)                         â”‚
â”‚  â€¢ FullCalendar (Client-side)                               â”‚
â”‚  â€¢ SweetAlert2 (Client-side)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Design Patterns Used

1. **MVC-Inspired Structure** (Without Framework)
   - **Models**: Database queries with PDO in individual files
   - **Views**: Separate PHP files for UI rendering
   - **Controllers**: Logic handling in main PHP files

2. **Component-Based Architecture**
   - Reusable components (`components/` folder)
   - Header/Footer includes
   - Modular database connection
   - Centralized authentication

3. **Separation of Concerns**
   - Database logic separated from presentation
   - Business logic isolated in dedicated files
   - API endpoints separated from views

4. **Repository Pattern** (Simplified)
   - Database operations abstracted through PDO
   - Prepared statements for all queries
   - Consistent data access methods

### Key Technical Decisions

| Decision | Reason | Benefit |
|----------|--------|---------|
| **Pure PHP (No Framework)** | Learn fundamentals deeply | Complete understanding of web mechanics |
| **PDO over mysqli** | More secure, object-oriented | Better SQL injection prevention |
| **Session-based Auth** | Simple, secure, server-side | No token management complexity |
| **Component Architecture** | Code reusability | Easier maintenance and updates |
| **Environment Variables** | Security best practice | Safe credential management |
| **AJAX for Dynamic Content** | Better UX | No page reloads needed |
| **FullCalendar Integration** | Professional booking UI | Industry-standard calendar |
| **Flatpickr with Malay** | Local market focus | Better user experience for Malaysian users |

### API Endpoints (AJAX)

```php
// Booking System APIs
GET  /getTimeslot.php              // Fetch available time slots
GET  /getDuration.php              // Get service duration
POST /getBookingInsertion.php      // Create new booking
GET  /getInitialTimeslot.php       // Load initial calendar data

// Admin Panel APIs
GET  /admin/ajax-viewclient.php    // Client details modal
GET  /admin/ajax-viewstaff.php     // Staff details modal
POST /admin/insert-data.php        // Insert records
POST /admin/update-data.php        // Update records

// Shopping Cart APIs
POST /components/wishlist_cart.php // Add to cart/wishlist
```

### Database Schema Overview

```sql
-- Core Tables
clients (id, name, email, password, number, ...)
admins (id, username, password, ...)
staff (id, name, email, password, ...)

-- Service & Product Tables
services (id, name, price, duration, image_01, ...)
products (id, name, price, stock, image_01, ...)
giftcards (id, name, price, image_01, ...)
credits (id, name, price, bonus, ...)

-- Transaction Tables
bookings (id, user_id, service_id, date, time, status, ...)
orders (id, user_id, total_price, payment_status, ...)
cart (id, user_id, product_id, quantity, ...)
wishlist (id, user_id, product_id, ...)

-- Communication
messages (id, user_id, subject, message, status, ...)
```

---

## ğŸ“‹ System Requirements

- **PHP:** 8.0 or higher
- **MySQL:** 8.0 or higher
- **Apache/Nginx:** Latest stable version
- **Web Server:** XAMPP, WAMP, LAMP, or LEMP stack
- **Browser:** Modern browsers (Chrome, Firefox, Safari, Edge)

---

## ğŸš€ Installation

### 1ï¸âƒ£ Clone or Download

```bash
# Clone the repository
git clone https://github.com/yourusername/kapasbeautyspa.com.git

# Or download and extract the ZIP file
```

### 2ï¸âƒ£ Setup Environment File

```bash
# Windows Command Prompt
copy env.template .env

# Windows PowerShell
Copy-Item env.template .env

# Linux/Mac
cp env.template .env
```

### 3ï¸âƒ£ Configure Database

Edit the `.env` file:

```env
# Database Configuration
DB_HOST=localhost
DB_NAME=spa_db
DB_USER=root
DB_PASS=

# ToyyibPay API (update with your credentials)
TOYYIBPAY_SECRET_KEY=your_secret_key_here
TOYYIBPAY_CATEGORY_CODE=your_category_code_here

# Application Settings
APP_ENV=development
APP_DEBUG=true
```

### 4ï¸âƒ£ Import Database

1. Start your MySQL server
2. Create a database named `spa_db`
3. Import the database schema:
   - Access phpMyAdmin: `http://localhost/phpmyadmin`
   - Select the `spa_db` database
   - Import the SQL file (if provided) or create tables manually

### 5ï¸âƒ£ Configure Web Server

#### For XAMPP:
1. Move the project to `C:\xampp\htdocs\`
2. Start Apache and MySQL from XAMPP Control Panel
3. Access the application at: `http://localhost/kapasbeautyspa.com/`

#### For Linux (Apache):
```bash
sudo cp -r kapasbeautyspa.com /var/www/html/
sudo chown -R www-data:www-data /var/www/html/kapasbeautyspa.com
sudo chmod -R 755 /var/www/html/kapasbeautyspa.com
```

### 6ï¸âƒ£ Set Folder Permissions

```bash
# For uploaded images folder
chmod 755 uploaded_img/

# For Linux/Mac
chmod -R 755 .
chmod 644 .env
```

### 7ï¸âƒ£ Access the Application

- **Main Website:** `http://localhost/kapasbeautyspa.com/`
- **Admin Panel:** `http://localhost/kapasbeautyspa.com/admin/`
- **Staff Panel:** `http://localhost/kapasbeautyspa.com/staff/`

---

## ğŸ”‘ Default Login Credentials

> âš ï¸ **Important:** Change these credentials after first login!

### Admin Account
```
Username: admin
Password: admin123
```

### Staff Account
```
Username: staff
Password: staff123
```

---

## ğŸ“ Project Structure

```
kapasbeautyspa.com/
â”œâ”€â”€ ğŸ“‚ admin/                    # Admin panel files
â”‚   â”œâ”€â”€ dashboard.php           # Admin dashboard
â”‚   â”œâ”€â”€ booking.php             # Booking management
â”‚   â”œâ”€â”€ services.php            # Service management
â”‚   â”œâ”€â”€ products.php            # Product management
â”‚   â”œâ”€â”€ client-accounts.php     # Customer management
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“‚ staff/                    # Staff panel files
â”‚   â”œâ”€â”€ dashboard.php           # Staff dashboard
â”‚   â”œâ”€â”€ booking.php             # View appointments
â”‚   â”œâ”€â”€ calendar.php            # Calendar view
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“‚ components/               # Reusable components
â”‚   â”œâ”€â”€ connect.php             # Database connection
â”‚   â”œâ”€â”€ env_loader.php          # Environment loader
â”‚   â”œâ”€â”€ user-header.php         # User header
â”‚   â”œâ”€â”€ admin_header.php        # Admin header
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“‚ css/                      # Stylesheets
â”‚   â”œâ”€â”€ style.css               # Main styles
â”‚   â”œâ”€â”€ admin_style.css         # Admin styles
â”‚   â””â”€â”€ staff_style.css         # Staff styles
â”œâ”€â”€ ğŸ“‚ js/                       # JavaScript files
â”‚   â”œâ”€â”€ script.js               # Main scripts
â”‚   â”œâ”€â”€ admin_script.js         # Admin scripts
â”‚   â””â”€â”€ sweetalert2.all.min.js  # SweetAlert2
â”œâ”€â”€ ğŸ“‚ images/                   # Static images
â”œâ”€â”€ ğŸ“‚ uploaded_img/             # User uploaded images
â”œâ”€â”€ ğŸ“‚ font/                     # Custom fonts (Gilroy)
â”œâ”€â”€ index.php                    # Homepage
â”œâ”€â”€ booking.php                  # Booking page
â”œâ”€â”€ shop.php                     # Shop page
â”œâ”€â”€ cart.php                     # Shopping cart
â”œâ”€â”€ user-login.php               # Customer login
â”œâ”€â”€ user-register.php            # Customer registration
â”œâ”€â”€ .env                         # Environment variables (create from template)
â”œâ”€â”€ env.template                 # Environment template
â””â”€â”€ README.md                    # This file
```

---

## ğŸ”’ Security Features

### Implemented Security Measures

1. **SQL Injection Prevention**
   - All database queries use PDO prepared statements
   - No raw SQL queries with user input

2. **Cross-Site Scripting (XSS) Protection**
   - All user inputs sanitized with `htmlspecialchars()`
   - Output escaping on all dynamic content

3. **Session Security**
   - Secure session management
   - Session regeneration on login
   - Automatic logout on inactivity

4. **Environment Variables**
   - Sensitive data stored in `.env` file
   - `.env` excluded from version control
   - Easy configuration management

5. **Password Security**
   - Password hashing (recommended to upgrade to password_hash())
   - No plain text storage

6. **Input Validation**
   - Server-side validation on all forms
   - Type checking and sanitization
   - Maximum length enforcement

### ğŸ” Security Recommendations for Production

```php
// Recommended upgrade: Use password_hash() instead of plain passwords
$hashed_password = password_hash($password, PASSWORD_DEFAULT);
$verify = password_verify($user_input, $hashed_password);
```

---

## ğŸ“– Documentation

### Database Schema

The system uses the following main tables:

- **clients** - Customer information
- **admins** - Administrator accounts
- **staff** - Staff accounts
- **services** - Spa services catalog
- **products** - E-commerce products
- **giftcards** - Gift card products
- **credits** - Credit packages
- **bookings** - Service bookings
- **orders** - Product orders
- **cart** - Shopping cart items
- **wishlist** - Customer wishlists
- **messages** - Customer messages

### Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `DB_HOST` | Database host | `localhost` |
| `DB_NAME` | Database name | `spa_db` |
| `DB_USER` | Database username | `root` |
| `DB_PASS` | Database password | _(empty)_ |
| `TOYYIBPAY_SECRET_KEY` | Payment gateway secret | _(your key)_ |
| `TOYYIBPAY_CATEGORY_CODE` | Payment category code | _(your code)_ |
| `APP_ENV` | Environment mode | `development` |
| `APP_DEBUG` | Debug mode | `true` |

---

## ğŸŒ Deployment

### Deploying to Production

See **[DEPLOYMENT.md](README_SETUP.md)** for detailed deployment instructions to:
- InfinityFree
- 000webhost
- Shared hosting
- VPS servers

### Production Checklist

- [ ] Change `.env` to production mode:
  ```env
  APP_ENV=production
  APP_DEBUG=false
  ```
- [ ] Update database credentials
- [ ] Change all default passwords
- [ ] Update ToyyibPay API keys
- [ ] Set proper file permissions (644 for files, 755 for directories)
- [ ] Remove test/debug code
- [ ] Enable HTTPS (SSL certificate)
- [ ] Configure automated backups
- [ ] Set up error logging

---

## ğŸ¨ Screenshots

### Customer Interface

#### Homepage
![Homepage](project%20images/homepage.webp)

#### Service Booking
![Booking System](project%20images/booking.webp)

#### Shopping Cart
![Shopping Cart](project%20images/cart.webp)

### Admin Panel

#### Dashboard
![Admin Dashboard](project%20images/admin-dashboard.webp)

#### Booking Management
![Booking Management](project%20images/booking-management.webp)

---

## ğŸ§ª Testing

### Manual Testing Checklist

#### Customer Features
- [ ] User registration and login
- [ ] Service booking with calendar
- [ ] Add to cart and checkout
- [ ] Wishlist functionality
- [ ] Profile update
- [ ] Order tracking

#### Admin Features
- [ ] Dashboard statistics
- [ ] CRUD operations on services
- [ ] CRUD operations on products
- [ ] Booking management
- [ ] Customer management
- [ ] Order processing

#### Staff Features
- [ ] View assigned bookings
- [ ] Calendar view
- [ ] Client information access
- [ ] Profile management

---


---

## ğŸ¤ Contributing

This project was built as a solo internship project, but contributions are welcome!

### How to Contribute

1. Fork the project
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request


## ğŸ› Bug Reports

Found a bug? Please open an issue with:
- Description of the bug
- Steps to reproduce
- Expected behavior
- Actual behavior
- Screenshots (if applicable)
- Environment details (PHP version, browser, OS)

---

## ğŸ¯ Technical Challenges Overcome

### Complex Problems Solved

1. **Real-Time Booking System**
   - **Challenge**: Preventing double-bookings with concurrent users
   - **Solution**: Implemented transaction-based database locking and real-time availability checking via AJAX
   - **Technology**: PDO transactions + FullCalendar v6 + custom AJAX endpoints

2. **Dynamic Time Slot Generation**
   - **Challenge**: Calculate available slots based on service duration and existing bookings
   - **Solution**: Built algorithm to parse booking data and generate available time slots dynamically
   - **Technology**: PHP date/time manipulation + Moment.js + Flatpickr

3. **Payment Gateway Integration**
   - **Challenge**: Integrate Malaysian payment processor without documentation
   - **Solution**: Reverse-engineered API calls using cURL and implemented callback handling
   - **Technology**: cURL + ToyyibPay API + webhook handling

4. **Multi-Role Authentication**
   - **Challenge**: Three separate user types (Customer, Admin, Staff) with different permissions
   - **Solution**: Session-based role management with middleware-like authentication checks
   - **Technology**: PHP Sessions + role-based access control

5. **Shopping Cart with Service Booking**
   - **Challenge**: Combine e-commerce (products) with service booking in one cart
   - **Solution**: Unified cart system handling both product quantities and service appointments
   - **Technology**: Session-based cart + PDO + AJAX

6. **Calendar Visualization**
   - **Challenge**: Display bookings in interactive calendar without framework
   - **Solution**: Integrated FullCalendar v6 with custom PHP backend and AJAX data fetching
   - **Technology**: FullCalendar + JSON API endpoints + MySQL queries

7. **Image Upload System**
   - **Challenge**: Multiple image uploads with validation and storage
   - **Solution**: Custom file upload handler with type checking, size limits, and secure storage
   - **Technology**: PHP file handling + server-side validation

8. **Responsive Design Without Framework**
   - **Challenge**: Mobile-first responsive design across 20+ pages
   - **Solution**: CSS Grid + Flexbox + media queries + Bootstrap 5 components
   - **Technology**: CSS3 + Bootstrap 5 + custom responsive utilities

### Performance Optimizations

- âœ… **Database Indexing** - Optimized queries with proper indexes on foreign keys
- âœ… **Prepared Statements** - All queries use PDO prepared statements (no performance penalty from mysqli)
- âœ… **AJAX Loading** - Reduced page reloads with asynchronous data fetching
- âœ… **Image Optimization** - Compressed images and lazy loading
- âœ… **Session Caching** - Reduced database queries with session-stored user data
- âœ… **Query Optimization** - Minimized N+1 queries with JOIN statements


---

## ğŸ“œ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ‘¤ Author

**Muhammad Ilyas Bin Amran**

- ğŸ“§ Email: [your-email@example.com]
- ğŸ’» GitHub: [@yourusername](https://github.com/unatesta175)
- ğŸ”— LinkedIn: [Your LinkedIn](https://linkedin.com/in/muhammad-ilyas-bin-amran-3a9a2a298)

---

## ğŸ™ Acknowledgments

### Technologies & Libraries Used
- [PHP](https://www.php.net/) - Server-side programming language
- [MySQL](https://www.mysql.com/) - Database management system
- [Bootstrap 5](https://getbootstrap.com/) - Responsive UI framework
- [jQuery](https://jquery.com/) - JavaScript library
- [FullCalendar v6](https://fullcalendar.io/) - Interactive calendar scheduling
- [Swiper.js](https://swiperjs.com/) - Touch-enabled slider
- [SweetAlert2](https://sweetalert2.github.io/) - Beautiful alert dialogs
- [Flatpickr](https://flatpickr.js.org/) - Date/time picker with localization
- [Moment.js](https://momentjs.com/) - Date/time manipulation
- [DataTables](https://datatables.net/) - Advanced table features
- [Font Awesome 6](https://fontawesome.com/) - Icon library
- [ToyyibPay](https://toyyibpay.com/) - Malaysian payment gateway
- [XAMPP](https://www.apachefriends.org/) - Development environment

### Special Thanks
- **Picrust** for the internship opportunity
- The PHP community for extensive documentation
- Stack Overflow for debugging help
- All the open-source library authors

---

## ğŸ“ Support

Need help? Have questions?

- ğŸ“§ Email: muhammadilyasamran.com
- ğŸ’¬ Issues: [GitHub Issues](https://github.com/unatesta175/kapasbeautyspa.com/issues)
- ğŸ“– Docs: [Read the Setup Guide](README_SETUP.md)

---

## ğŸ’° Hire Me

Looking for a developer who can build complex systems from scratch without relying on frameworks?

I've proven I can:
- âœ… Build production-ready applications solo
- âœ… Learn and implement new technologies quickly
- âœ… Write clean, maintainable code
- âœ… Understand systems at a fundamental level
- âœ… Deliver complete projects on time

**Available for:**
- Freelance projects
- Full-time positions
- Contract work
- Consulting

Contact: [muhammadilyasamran.com]

---

<div align="center">

### â­ If you found this project interesting, please consider giving it a star!

**Built with ğŸ’ª and pure PHP by Muhammad Ilyas Bin Amran**

*4 months of coding, debugging, and learning - all to prove I could do it without frameworks.*

---

![Made with PHP](https://img.shields.io/badge/Made%20with-PHP-777BB4?style=for-the-badge&logo=php&logoColor=white)
![Made with Love](https://img.shields.io/badge/Made%20with-Love-red?style=for-the-badge&logo=heart&logoColor=white)
![No Frameworks](https://img.shields.io/badge/No-Frameworks-success?style=for-the-badge&logo=checkmarx&logoColor=white)

**Â© 2024 Muhammad Ilyas Bin Amran | All Rights Reserved**

</div>

